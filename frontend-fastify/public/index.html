<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Micuota — Cobros para profesores | Gestiona clases y suscripciones</title>
  <meta name="description" content="Micuota ayuda a profesores y academias a cobrar por clases y gestionar suscripciones sin complicaciones." />
  <meta property="og:title" content="Micuota — Cobros para profesores" />
  <meta property="og:description" content="Publica planes, cobra por sesiones y gestiona suscripciones con una herramienta simple y segura." />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mini.css/3.0.1/mini-default.min.css">
  <style>
    :root{--accent:#2f855a;--muted:#6b7280;--bg:#f7fafc}
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,Arial;background:var(--bg);color:#0f172a}
    .container{max-width:1100px;margin:0 auto;padding:20px}
    header{display:flex;align-items:center;justify-content:space-between;padding:18px 0}
    .brand{font-weight:800;font-size:1.1rem}
    .nav-links{display:flex;gap:12px;align-items:center}
    .cta{background:var(--accent);color:#fff;padding:10px 14px;border-radius:8px;border:0}
    .ghost{background:transparent;border:1px solid rgba(0,0,0,0.06);padding:8px 12px;border-radius:8px}

    /* mobile menu */
    .menu-toggle{display:none;background:transparent;border:0;font-size:1.1rem}
    .mobile-nav{display:none;flex-direction:column;gap:8px;margin-top:8px}

    .hero{display:flex;gap:32px;align-items:center;padding:48px 0}
    .hero-left{flex:1}
    .hero-right{flex:1}
    .hero h1{font-size:2.2rem;margin:0 0 12px}
    .lead{color:var(--muted);margin:0 0 18px}
    .screenshot{width:100%;border-radius:12px;box-shadow:0 20px 50px rgba(2,6,23,0.06)}

    .features{display:grid;grid-template-columns:repeat(3,1fr);gap:18px;margin-top:28px}
    .feature{background:#fff;padding:18px;border-radius:10px;border:1px solid #eef2f6}

    .how{display:flex;gap:12px;margin-top:28px;padding:18px;background:#fff;border-radius:10px;border:1px solid #eef2f6}
    .testimonials{display:flex;gap:12px;margin-top:24px}

    footer{padding:24px 0;color:var(--muted);text-align:center;margin-top:30px}

    @media(max-width:900px){
      .hero{flex-direction:column}
      .features{grid-template-columns:1fr}
      .testimonials{flex-direction:column}
      .how{flex-direction:column}
      .nav-links{display:none}
      .menu-toggle{display:inline-block}
      .mobile-nav{display:flex}
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">Micuota</div>

      <nav aria-label="Main navigation">
        <button class="menu-toggle" id="menuToggle" aria-expanded="false" aria-controls="mobileNav">☰</button>
        <div class="nav-links" role="menubar">
          <a role="menuitem" href="#features">Características</a>
          <a role="menuitem" href="#how">Cómo funciona</a>
          <a role="menuitem" href="#testimonials">Opiniones</a>
          <button class="cta" onclick="location.href='/app.html'">Probar demo</button>
        </div>

        <div id="mobileNav" class="mobile-nav" hidden>
          <a href="#features">Características</a>
          <a href="#how">Cómo funciona</a>
          <a href="#testimonials">Opiniones</a>
          <button class="cta" onclick="location.href='/app.html'">Probar demo</button>
        </div>
      </nav>
    </header>

    <main>
      <section class="hero" aria-labelledby="hero-title">
        <div class="hero-left">
          <h1 id="hero-title">Organiza cobros, consulta pagos y gestiona suscripciones sin complicaciones</h1>
          <p class="lead">Micuota centraliza clases, planes y pagos en un panel sencillo pensado para profesores y pequeñas academias. Comparte un enlace y cobra en minutos.</p>

          <div style="display:flex;gap:12px;margin-bottom:12px">
            <button class="cta" onclick="location.href='/app.html'">Probar demo</button>
            <a class="ghost" href="#how">Ver cómo funciona</a>
          </div>

          <!-- Lead capture CTA box -->
          <div style="margin-top:8px; max-width:460px;">
            <form id="lead-form" style="display:flex;flex-direction:column;gap:8px;background:#fff;padding:12px;border-radius:10px;border:1px solid #e6eef7" aria-label="Formulario de contacto para demo">
              <label style="font-weight:600">Solicita una demo gratuita</label>
              <input id="lead-name" name="name" type="text" placeholder="Tu nombre" required />
              <input id="lead-email" name="email" type="email" placeholder="Correo electrónico" required />
              <textarea id="lead-message" name="message" placeholder="¿En qué te interesa Micuota? (opcional)" rows="3"></textarea>
              <div style="display:flex;gap:8px;align-items:center">
                <button id="lead-submit" class="cta" type="submit">Solicitar demo gratis</button>
                <span id="lead-status" style="color:var(--muted);font-size:0.95rem"></span>
              </div>
            </form>
          </div>
        </div>

        <div class="hero-right">
          <img class="screenshot" src="https://images.unsplash.com/photo-1542744173-8e7e53415bb0?q=80&w=1200&auto=format&fit=crop" alt="Captura de Micuota"/>
        </div>
      </section>

      <section id="features" class="features" aria-labelledby="features-title">
        <h2 id="features-title" style="grid-column:1/-1">Características</h2>
        <div class="feature">
          <h4>Planes y suscripciones</h4>
          <p class="lead">Configura planes por sesión o recurrentes y automatiza cobros.</p>
        </div>
        <div class="feature">
          <h4>Control de alumnos</h4>
          <p class="lead">Lista de alumnos, historial de pagos y estado de suscripciones.</p>
        </div>
        <div class="feature">
          <h4>Simple de usar</h4>
          <p class="lead">Interfaz minimalista que facilita la autogestión, sin necesidad de conocimientos técnicos.</p>
      </section>

      <section id="how" class="how" aria-labelledby="how-title">
        <h2 id="how-title">Cómo funciona</h2>
        <div>
          <ol>
            <li>Regístrate y crea tu primer plan.</li>
            <li>Comparte el enlace de pago con tus alumnos.</li>
            <li>El alumno paga y la plataforma registra el pago automáticamente.</li>
          </ol>
        </div>
        <div>
          <h3>Perfecto para</h3>
          <ul>
            <li>Profesores particulares</li>
            <li>Academias pequeñas</li>
            <li>Coaches y talleres</li>
          </ul>
        </div>
      </section>

      <section id="testimonials" class="testimonials" aria-labelledby="testimonials-title">
        <h2 id="testimonials-title">Opiniones</h2>
        <div class="testimonial">
          <strong>"Empecé a cobrar mis clases en minutos"</strong>
          <p class="small">— Laura, profesora de yoga</p>
        </div>
        <div class="testimonial">
          <strong>"Ideal para gestionar alumnos y pagos recurrentes"</strong>
          <p class="small">— Academia Talleres & Co.</p>
        </div>

        <section style="margin-top:28px">
          <h3 style="text-align:center">Empieza ahora</h3>
          <p style="text-align:center;color:var(--muted)">Prueba la demo para ver el flujo completo: registro, creación de plan, suscripción y cobro simulado.</p>
          <div style="text-align:center;margin-top:12px"><button class="cta" onclick="location.href='/app.html'">Abrir demo</button></div>
        </section>

        <section id="faq" style="margin-top:22px">
          <details>
            <summary>¿Puedo usar MercadoPago real?</summary>
            <p>Sí — cuando configures las claves en variables de entorno la integración será real. El demo utiliza un mock para no requerir claves.</p>
          </details>
          <details>
            <summary>¿Dónde guardan los datos?</summary>
            <p>En la demo se usa la base de datos local de Postgres. En producción recomendamos un servicio de BD gestionado y backups.</p>
          </details>
        </section>

      </section>
    </main>

    <footer>
      <div style="max-width:900px;margin:18px auto;color:var(--muted);text-align:center">© Micuota — Demo. No usar en producción. <a href="/app.html">Probar demo</a></div>
    </footer>
  </div>

  <script>
    // Mobile menu toggle
    (function(){
      const btn = document.getElementById('menuToggle');
      const mobile = document.getElementById('mobileNav');
      if(!btn || !mobile) return;
      btn.addEventListener('click', ()=>{
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!expanded));
        if(mobile.hasAttribute('hidden')) mobile.removeAttribute('hidden'); else mobile.setAttribute('hidden','');
      });
    })();
  </script>

  <script>
    // Lead form handler (keeps previous behavior)
    (function(){
      // Load backend URL from config.json (fallback to localhost)
      const cfg = fetch('config.json').then(r=>r.json()).catch(()=>({backendUrl:'http://localhost:8080'}));

      const form = document.getElementById('lead-form');
      if(!form) return;
      const statusEl = document.getElementById('lead-status');
      const submitBtn = document.getElementById('lead-submit');

      function setStatus(msg, ok){
        statusEl.textContent = msg || '';
        statusEl.style.color = ok ? 'green' : 'var(--muted)';
      }

      form.addEventListener('submit', async function(e){
        e.preventDefault();
        submitBtn.disabled = true;
        setStatus('Enviando...', false);
        const name = document.getElementById('lead-name').value.trim();
        const email = document.getElementById('lead-email').value.trim();
        const message = document.getElementById('lead-message').value.trim();
        if(!name || !email){ setStatus('Nombre y correo son requeridos', false); submitBtn.disabled = false; return; }

        const backend = await cfg;
        const url = (backend.backendUrl || 'http://localhost:8080').replace(/\/+$/,'') + '/leads';
        try{
          const res = await fetch(url, {
            method: 'POST',
            headers: {'Content-Type':'application/json'},
            body: JSON.stringify({name, email, message})
          });
          if(res.status === 201){
            setStatus('¡Gracias! Te contactaremos pronto.', true);
            form.reset();
          } else {
            const t = await res.text();
            setStatus('Error: ' + res.status + ' ' + (t||''), false);
          }
        }catch(err){
          console.error(err);
          setStatus('Error en la conexión. Intenta más tarde.', false);
        } finally { submitBtn.disabled = false; }
      });
    })();
  </script>
</body>
</html>